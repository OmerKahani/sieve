{"pod": [{"metadata": {"name": "cassandra-operator-7dd4fdc6dd-wmgfz", "generateName": "cassandra-operator-7dd4fdc6dd-", "namespace": "default", "selfLink": "/api/v1/namespaces/default/pods/cassandra-operator-7dd4fdc6dd-wmgfz", "uid": "aea0554b-b67e-47df-a163-894b8887cdc7", "resourceVersion": "1841", "creationTimestamp": "2021-07-31T11:43:20Z", "labels": {"name": "cassandra-operator", "pod-template-hash": "7dd4fdc6dd", "sonartag": "cassandra-operator"}, "ownerReferences": [{"apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "cassandra-operator-7dd4fdc6dd", "uid": "7b0e5c31-fa50-4237-88f0-18c0da2f20f1", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T11:43:20Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:name": {}, "f:pod-template-hash": {}, "f:sonartag": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"7b0e5c31-fa50-4237-88f0-18c0da2f20f1\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra-operator\"}": {".": {}, "f:command": {}, "f:env": {".": {}, "k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"OPERATOR_NAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}, "k:{\"name\":\"WATCH_NAMESPACE\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}}, "f:envFrom": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}}, {"manager": "kubelet", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T11:43:21Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.3.7\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}}]}, "spec": {"volumes": [{"name": "cassandra-operator-token-9rbqc", "secret": {"secretName": "cassandra-operator-token-9rbqc", "defaultMode": 420}}], "containers": [{"name": "cassandra-operator", "image": "laphets/cassandra-operator:time-travel", "command": ["./cassandra-operator"], "envFrom": [{"configMapRef": {"name": "sonar-testing-global-config"}}], "env": [{"name": "WATCH_NAMESPACE", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}}, {"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "OPERATOR_NAME", "value": "cassandra-operator"}, {"name": "KUBERNETES_SERVICE_HOST", "value": "kind-control-plane3"}, {"name": "KUBERNETES_SERVICE_PORT", "value": "6443"}], "resources": {}, "volumeMounts": [{"name": "cassandra-operator-token-9rbqc", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-operator", "serviceAccount": "cassandra-operator", "nodeName": "kind-worker2", "securityContext": {}, "schedulerName": "default-scheduler", "tolerations": [{"key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}, {"key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}], "priority": 0, "enableServiceLinks": true}, "status": {"phase": "Running", "conditions": [{"type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:43:20Z"}, {"type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:43:21Z"}, {"type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:43:21Z"}, {"type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:43:20Z"}], "hostIP": "172.18.0.3", "podIP": "10.244.3.7", "podIPs": [{"ip": "10.244.3.7"}], "startTime": "2021-07-31T11:43:20Z", "containerStatuses": [{"name": "cassandra-operator", "state": {"running": {"startedAt": "2021-07-31T11:43:21Z"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "docker.io/laphets/cassandra-operator:time-travel", "imageID": "sha256:aaf5b7aa35766e5d80ee15e5be26deee033d9dce04dc524cbcea4817fa5d2593", "containerID": "containerd://a0f946d56f326637bdeb2c0562bb93b2b1bac485519b256d9aed8688f3d230fa", "started": true}], "qosClass": "BestEffort"}}, {"metadata": {"name": "cassandra-test-cluster-dc1-rack1-0", "generateName": "cassandra-test-cluster-dc1-rack1-", "namespace": "default", "selfLink": "/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0", "uid": "fe69da55-d333-4a5d-94fe-12cf6ba24679", "resourceVersion": "2070", "creationTimestamp": "2021-07-31T11:43:01Z", "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1", "controller-revision-hash": "cassandra-test-cluster-dc1-rack1-7d8d8dbfc8", "statefulset.kubernetes.io/pod-name": "cassandra-test-cluster-dc1-rack1-0"}, "ownerReferences": [{"apiVersion": "apps/v1", "kind": "StatefulSet", "name": "cassandra-test-cluster-dc1-rack1", "uid": "097bd429-66c6-497a-b632-3c892c3cbf1d", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T11:43:01Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}, "f:controller-revision-hash": {}, "f:statefulset.kubernetes.io/pod-name": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"097bd429-66c6-497a-b632-3c892c3cbf1d\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LOCK\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":7000,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7001,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7199,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":9042,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:exec": {".": {}, "f:command": {}}, "f:failureThreshold": {}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:securityContext": {".": {}, "f:capabilities": {".": {}, "f:add": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/operator-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}, "k:{\"name\":\"sidecar\"}": {".": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":4567,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/pod-info\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:hostname": {}, "f:imagePullSecrets": {".": {}, "k:{\"name\":\"regcred\"}": {".": {}, "f:name": {}}}, "f:initContainers": {".": {}, "k:{\"name\":\"sysctl-limits\"}": {".": {}, "f:args": {}, "f:command": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:securityContext": {".": {}, "f:privileged": {}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {".": {}, "f:fsGroup": {}}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:subdomain": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"data-volume\"}": {".": {}, "f:name": {}, "f:persistentVolumeClaim": {".": {}, "f:claimName": {}}}, "k:{\"name\":\"operator-config-volume\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"operator-rack-config-volume-rack1\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"pod-info\"}": {".": {}, "f:downwardAPI": {".": {}, "f:defaultMode": {}, "f:items": {}}, "f:name": {}}}}}}, {"manager": "kubelet", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T11:44:23Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:initContainerStatuses": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.3.6\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}}]}, "spec": {"volumes": [{"name": "data-volume", "persistentVolumeClaim": {"claimName": "data-volume-cassandra-test-cluster-dc1-rack1-0"}}, {"name": "pod-info", "downwardAPI": {"items": [{"path": "labels", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.labels"}}, {"path": "annotations", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}}, {"path": "namespace", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}, {"path": "name", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}], "defaultMode": 420}}, {"name": "operator-config-volume", "configMap": {"name": "cassandra-test-cluster-dc1-operator-config", "items": [{"key": "cassandra_yaml_d_001_operator_overrides_yaml", "path": "cassandra.yaml.d/001-operator-overrides.yaml"}, {"key": "jvm_options_d_001_jvm_memory_gc_options", "path": "jvm.options.d/001-jvm-memory-gc.options"}], "defaultMode": 420}}, {"name": "operator-rack-config-volume-rack1", "configMap": {"name": "cassandra-test-cluster-dc1-rack-config-rack1", "items": [{"key": "cassandra_rackdc_properties", "path": "cassandra-rackdc.properties"}], "defaultMode": 420}}, {"name": "cassandra-performance-token-kpq4b", "secret": {"secretName": "cassandra-performance-token-kpq4b", "defaultMode": 420}}], "initContainers": [{"name": "sysctl-limits", "image": "busybox:latest", "command": ["sh", "-xuec"], "args": ["sysctl -w vm.max_map_count=1048575"], "resources": {}, "volumeMounts": [{"name": "cassandra-performance-token-kpq4b", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"privileged": true}}], "containers": [{"name": "cassandra", "image": "gcr.io/cassandra-operator/cassandra-3.11.9:latest", "args": ["/tmp/operator-config", "/tmp/cassandra-rack-config"], "ports": [{"name": "internode", "containerPort": 7000, "protocol": "TCP"}, {"name": "internode-tls", "containerPort": 7001, "protocol": "TCP"}, {"name": "cql", "containerPort": 9042, "protocol": "TCP"}, {"name": "jmx", "containerPort": 7199, "protocol": "TCP"}], "env": [{"name": "MEMORY_LOCK", "value": "true"}], "resources": {"limits": {"memory": "1Gi"}, "requests": {"memory": "1Gi"}}, "volumeMounts": [{"name": "operator-config-volume", "mountPath": "/tmp/operator-config"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}, {"name": "cassandra-performance-token-kpq4b", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "readinessProbe": {"exec": {"command": ["/usr/bin/cql-readiness-probe"]}, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"capabilities": {"add": ["IPC_LOCK", "SYS_RESOURCE"]}}}, {"name": "sidecar", "image": "gcr.io/cassandra-operator/instaclustr-icarus:latest", "ports": [{"name": "http", "containerPort": 4567, "protocol": "TCP"}], "resources": {"limits": {"memory": "512Mi"}, "requests": {"memory": "512Mi"}}, "volumeMounts": [{"name": "pod-info", "mountPath": "/etc/pod-info"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}, {"name": "cassandra-performance-token-kpq4b", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-performance", "serviceAccount": "cassandra-performance", "nodeName": "kind-worker2", "securityContext": {"fsGroup": 999}, "imagePullSecrets": [{"name": "regcred"}], "hostname": "cassandra-test-cluster-dc1-rack1-0", "subdomain": "cassandra-test-cluster-dc1-seeds", "schedulerName": "default-scheduler", "tolerations": [{"key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}, {"key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}], "priority": 0, "enableServiceLinks": true}, "status": {"phase": "Running", "conditions": [{"type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:43:07Z"}, {"type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:44:23Z"}, {"type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:44:23Z"}, {"type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T11:43:04Z"}], "hostIP": "172.18.0.3", "podIP": "10.244.3.6", "podIPs": [{"ip": "10.244.3.6"}], "startTime": "2021-07-31T11:43:04Z", "initContainerStatuses": [{"name": "sysctl-limits", "state": {"terminated": {"exitCode": 0, "reason": "Completed", "startedAt": "2021-07-31T11:43:06Z", "finishedAt": "2021-07-31T11:43:06Z", "containerID": "containerd://173b5547f99ad683673e8e9cf90b9f61305c0175fe5c64ac3a8a4620b9c96081"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "docker.io/library/busybox:latest", "imageID": "docker.io/library/busybox@sha256:0f354ec1728d9ff32edcd7d1b8bbdfc798277ad36120dc3dc683be44524c8b60", "containerID": "containerd://173b5547f99ad683673e8e9cf90b9f61305c0175fe5c64ac3a8a4620b9c96081"}], "containerStatuses": [{"name": "cassandra", "state": {"running": {"startedAt": "2021-07-31T11:43:08Z"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "gcr.io/cassandra-operator/cassandra-3.11.9:latest", "imageID": "gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570", "containerID": "containerd://51d20b495e30d75f07c2031e61bf62937a5907f8446d64e37cae9bfe2122e310", "started": true}, {"name": "sidecar", "state": {"running": {"startedAt": "2021-07-31T11:43:09Z"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "gcr.io/cassandra-operator/instaclustr-icarus:latest", "imageID": "gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4", "containerID": "containerd://024d2ec79a5e364eaf93d23ad4345d50e0855187c4af075758d5644b41ea689f", "started": true}], "qosClass": "Burstable"}}], "persistentvolumeclaim": [{"metadata": {"name": "data-volume-cassandra-test-cluster-dc1-rack1-0", "namespace": "default", "selfLink": "/api/v1/namespaces/default/persistentvolumeclaims/data-volume-cassandra-test-cluster-dc1-rack1-0", "uid": "726cd5b2-22c1-4fd6-8504-024fd3f21bfa", "resourceVersion": "1855", "creationTimestamp": "2021-07-31T11:43:01Z", "deletionTimestamp": "2021-07-31T11:43:23Z", "deletionGracePeriodSeconds": 0, "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}, "annotations": {"pv.kubernetes.io/bind-completed": "yes", "pv.kubernetes.io/bound-by-controller": "yes", "volume.beta.kubernetes.io/storage-provisioner": "rancher.io/local-path", "volume.kubernetes.io/selected-node": "kind-worker2"}, "finalizers": ["kubernetes.io/pvc-protection"], "managedFields": [{"manager": "kube-scheduler", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T11:43:01Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:volume.kubernetes.io/selected-node": {}}}}}, {"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T11:43:03Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:pv.kubernetes.io/bind-completed": {}, "f:pv.kubernetes.io/bound-by-controller": {}, "f:volume.beta.kubernetes.io/storage-provisioner": {}}, "f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}}, "f:spec": {"f:accessModes": {}, "f:resources": {"f:requests": {".": {}, "f:storage": {}}}, "f:volumeMode": {}, "f:volumeName": {}}, "f:status": {"f:accessModes": {}, "f:capacity": {".": {}, "f:storage": {}}, "f:phase": {}}}}]}, "spec": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "2Gi"}}, "volumeName": "pvc-726cd5b2-22c1-4fd6-8504-024fd3f21bfa", "storageClassName": "standard", "volumeMode": "Filesystem"}, "status": {"phase": "Bound", "accessModes": ["ReadWriteOnce"], "capacity": {"storage": "2Gi"}}}], "deployment": [{"metadata": {"name": "cassandra-operator", "namespace": "default", "selfLink": "/apis/apps/v1/namespaces/default/deployments/cassandra-operator", "uid": "0aa25c4a-97b9-49c5-9ad5-60d28fd88c7f", "resourceVersion": "1843", "generation": 1, "creationTimestamp": "2021-07-31T11:43:20Z", "annotations": {"deployment.kubernetes.io/revision": "1"}, "managedFields": [{"manager": "sonar-server", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T11:43:20Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:spec": {"f:progressDeadlineSeconds": {}, "f:replicas": {}, "f:revisionHistoryLimit": {}, "f:selector": {"f:matchLabels": {".": {}, "f:name": {}, "f:sonartag": {}}}, "f:strategy": {"f:rollingUpdate": {".": {}, "f:maxSurge": {}, "f:maxUnavailable": {}}, "f:type": {}}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:name": {}, "f:sonartag": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra-operator\"}": {".": {}, "f:command": {}, "f:env": {".": {}, "k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"OPERATOR_NAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}, "k:{\"name\":\"WATCH_NAMESPACE\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}}, "f:envFrom": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}}}}, {"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T11:43:21Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:deployment.kubernetes.io/revision": {}}}, "f:status": {"f:availableReplicas": {}, "f:conditions": {".": {}, "k:{\"type\":\"Available\"}": {".": {}, "f:lastTransitionTime": {}, "f:lastUpdateTime": {}, "f:message": {}, "f:reason": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Progressing\"}": {".": {}, "f:lastTransitionTime": {}, "f:lastUpdateTime": {}, "f:message": {}, "f:reason": {}, "f:status": {}, "f:type": {}}}, "f:observedGeneration": {}, "f:readyReplicas": {}, "f:replicas": {}, "f:updatedReplicas": {}}}}]}, "spec": {"replicas": 1, "selector": {"matchLabels": {"name": "cassandra-operator", "sonartag": "cassandra-operator"}}, "template": {"metadata": {"creationTimestamp": null, "labels": {"name": "cassandra-operator", "sonartag": "cassandra-operator"}}, "spec": {"containers": [{"name": "cassandra-operator", "image": "laphets/cassandra-operator:time-travel", "command": ["./cassandra-operator"], "envFrom": [{"configMapRef": {"name": "sonar-testing-global-config"}}], "env": [{"name": "WATCH_NAMESPACE", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}}, {"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "OPERATOR_NAME", "value": "cassandra-operator"}, {"name": "KUBERNETES_SERVICE_HOST", "value": "kind-control-plane3"}, {"name": "KUBERNETES_SERVICE_PORT", "value": "6443"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-operator", "serviceAccount": "cassandra-operator", "securityContext": {}, "schedulerName": "default-scheduler"}}, "strategy": {"type": "RollingUpdate", "rollingUpdate": {"maxUnavailable": "25%", "maxSurge": "25%"}}, "revisionHistoryLimit": 10, "progressDeadlineSeconds": 600}, "status": {"observedGeneration": 1, "replicas": 1, "updatedReplicas": 1, "readyReplicas": 1, "availableReplicas": 1, "conditions": [{"type": "Available", "status": "True", "lastUpdateTime": "2021-07-31T11:43:21Z", "lastTransitionTime": "2021-07-31T11:43:21Z", "reason": "MinimumReplicasAvailable", "message": "Deployment has minimum availability."}, {"type": "Progressing", "status": "True", "lastUpdateTime": "2021-07-31T11:43:21Z", "lastTransitionTime": "2021-07-31T11:43:20Z", "reason": "NewReplicaSetAvailable", "message": "ReplicaSet \"cassandra-operator-7dd4fdc6dd\" has successfully progressed."}]}}], "statefulset": [{"metadata": {"name": "cassandra-test-cluster-dc1-rack1", "namespace": "default", "selfLink": "/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1", "uid": "097bd429-66c6-497a-b632-3c892c3cbf1d", "resourceVersion": "2075", "generation": 1, "creationTimestamp": "2021-07-31T11:43:01Z", "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}, "ownerReferences": [{"apiVersion": "cassandraoperator.instaclustr.com/v1alpha1", "kind": "CassandraDataCenter", "name": "cassandra-datacenter", "uid": "6cb56c1e-2be7-47b0-932a-296e58e56919", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "cassandra-operator", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T11:43:01Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"6cb56c1e-2be7-47b0-932a-296e58e56919\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:podManagementPolicy": {}, "f:replicas": {}, "f:revisionHistoryLimit": {}, "f:selector": {"f:matchLabels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}}, "f:serviceName": {}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LOCK\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":7000,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7001,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7199,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":9042,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:exec": {".": {}, "f:command": {}}, "f:failureThreshold": {}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:securityContext": {".": {}, "f:capabilities": {".": {}, "f:add": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/operator-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}, "k:{\"name\":\"sidecar\"}": {".": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":4567,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/pod-info\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:imagePullSecrets": {".": {}, "k:{\"name\":\"regcred\"}": {".": {}, "f:name": {}}}, "f:initContainers": {".": {}, "k:{\"name\":\"sysctl-limits\"}": {".": {}, "f:args": {}, "f:command": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:securityContext": {".": {}, "f:privileged": {}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {".": {}, "f:fsGroup": {}}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"operator-config-volume\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"operator-rack-config-volume-rack1\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"pod-info\"}": {".": {}, "f:downwardAPI": {".": {}, "f:defaultMode": {}, "f:items": {}}, "f:name": {}}}}}, "f:updateStrategy": {"f:rollingUpdate": {".": {}, "f:partition": {}}, "f:type": {}}, "f:volumeClaimTemplates": {}}}}, {"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T11:44:23Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:collisionCount": {}, "f:currentReplicas": {}, "f:currentRevision": {}, "f:observedGeneration": {}, "f:readyReplicas": {}, "f:replicas": {}, "f:updateRevision": {}, "f:updatedReplicas": {}}}}]}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}}, "template": {"metadata": {"creationTimestamp": null, "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}}, "spec": {"volumes": [{"name": "pod-info", "downwardAPI": {"items": [{"path": "labels", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.labels"}}, {"path": "annotations", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}}, {"path": "namespace", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}, {"path": "name", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}], "defaultMode": 420}}, {"name": "operator-config-volume", "configMap": {"name": "cassandra-test-cluster-dc1-operator-config", "items": [{"key": "cassandra_yaml_d_001_operator_overrides_yaml", "path": "cassandra.yaml.d/001-operator-overrides.yaml"}, {"key": "jvm_options_d_001_jvm_memory_gc_options", "path": "jvm.options.d/001-jvm-memory-gc.options"}], "defaultMode": 420}}, {"name": "operator-rack-config-volume-rack1", "configMap": {"name": "cassandra-test-cluster-dc1-rack-config-rack1", "items": [{"key": "cassandra_rackdc_properties", "path": "cassandra-rackdc.properties"}], "defaultMode": 420}}], "initContainers": [{"name": "sysctl-limits", "image": "busybox:latest", "command": ["sh", "-xuec"], "args": ["sysctl -w vm.max_map_count=1048575"], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"privileged": true}}], "containers": [{"name": "cassandra", "image": "gcr.io/cassandra-operator/cassandra-3.11.9:latest", "args": ["/tmp/operator-config", "/tmp/cassandra-rack-config"], "ports": [{"name": "internode", "containerPort": 7000, "protocol": "TCP"}, {"name": "internode-tls", "containerPort": 7001, "protocol": "TCP"}, {"name": "cql", "containerPort": 9042, "protocol": "TCP"}, {"name": "jmx", "containerPort": 7199, "protocol": "TCP"}], "env": [{"name": "MEMORY_LOCK", "value": "true"}], "resources": {"limits": {"memory": "1Gi"}, "requests": {"memory": "1Gi"}}, "volumeMounts": [{"name": "operator-config-volume", "mountPath": "/tmp/operator-config"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}], "readinessProbe": {"exec": {"command": ["/usr/bin/cql-readiness-probe"]}, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"capabilities": {"add": ["IPC_LOCK", "SYS_RESOURCE"]}}}, {"name": "sidecar", "image": "gcr.io/cassandra-operator/instaclustr-icarus:latest", "ports": [{"name": "http", "containerPort": 4567, "protocol": "TCP"}], "resources": {"limits": {"memory": "512Mi"}, "requests": {"memory": "512Mi"}}, "volumeMounts": [{"name": "pod-info", "mountPath": "/etc/pod-info"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-performance", "serviceAccount": "cassandra-performance", "securityContext": {"fsGroup": 999}, "imagePullSecrets": [{"name": "regcred"}], "schedulerName": "default-scheduler"}}, "volumeClaimTemplates": [{"kind": "PersistentVolumeClaim", "apiVersion": "v1", "metadata": {"name": "data-volume", "creationTimestamp": null}, "spec": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "2Gi"}}, "volumeMode": "Filesystem"}, "status": {"phase": "Pending"}}], "serviceName": "cassandra-test-cluster-dc1-seeds", "podManagementPolicy": "OrderedReady", "updateStrategy": {"type": "RollingUpdate", "rollingUpdate": {"partition": 0}}, "revisionHistoryLimit": 10}, "status": {"observedGeneration": 1, "replicas": 1, "readyReplicas": 1, "currentReplicas": 1, "updatedReplicas": 1, "currentRevision": "cassandra-test-cluster-dc1-rack1-7d8d8dbfc8", "updateRevision": "cassandra-test-cluster-dc1-rack1-7d8d8dbfc8", "collisionCount": 0}}]}