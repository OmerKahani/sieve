{"pod": [{"metadata": {"name": "cassandra-operator-868569994f-g49w4", "generateName": "cassandra-operator-868569994f-", "namespace": "default", "selfLink": "/api/v1/namespaces/default/pods/cassandra-operator-868569994f-g49w4", "uid": "2a9b669c-3325-4785-a829-8025b87d35e0", "resourceVersion": "1021", "creationTimestamp": "2021-07-31T16:25:22Z", "labels": {"name": "cassandra-operator", "pod-template-hash": "868569994f", "sonartag": "cassandra-operator"}, "ownerReferences": [{"apiVersion": "apps/v1", "kind": "ReplicaSet", "name": "cassandra-operator-868569994f", "uid": "88e232ec-26b2-43c2-a853-af6e0b428a4b", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:25:22Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:name": {}, "f:pod-template-hash": {}, "f:sonartag": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"88e232ec-26b2-43c2-a853-af6e0b428a4b\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra-operator\"}": {".": {}, "f:command": {}, "f:env": {".": {}, "k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"OPERATOR_NAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}, "k:{\"name\":\"WATCH_NAMESPACE\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}}, "f:envFrom": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}}, {"manager": "kube-scheduler", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:25:22Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {".": {}, "k:{\"type\":\"PodScheduled\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:message": {}, "f:reason": {}, "f:status": {}, "f:type": {}}}}}}, {"manager": "kubelet", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:25:40Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.3.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}}]}, "spec": {"volumes": [{"name": "cassandra-operator-token-whdnd", "secret": {"secretName": "cassandra-operator-token-whdnd", "defaultMode": 420}}], "containers": [{"name": "cassandra-operator", "image": "laphets/cassandra-operator:learn", "command": ["./cassandra-operator"], "envFrom": [{"configMapRef": {"name": "sonar-testing-global-config"}}], "env": [{"name": "WATCH_NAMESPACE", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}}, {"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "OPERATOR_NAME", "value": "cassandra-operator"}, {"name": "KUBERNETES_SERVICE_HOST", "value": "kind-control-plane"}, {"name": "KUBERNETES_SERVICE_PORT", "value": "6443"}], "resources": {}, "volumeMounts": [{"name": "cassandra-operator-token-whdnd", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-operator", "serviceAccount": "cassandra-operator", "nodeName": "kind-worker2", "securityContext": {}, "schedulerName": "default-scheduler", "tolerations": [{"key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}, {"key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}], "priority": 0, "enableServiceLinks": true}, "status": {"phase": "Running", "conditions": [{"type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:25:38Z"}, {"type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:25:40Z"}, {"type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:25:40Z"}, {"type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:25:38Z"}], "hostIP": "172.18.0.7", "podIP": "10.244.3.2", "podIPs": [{"ip": "10.244.3.2"}], "startTime": "2021-07-31T16:25:38Z", "containerStatuses": [{"name": "cassandra-operator", "state": {"running": {"startedAt": "2021-07-31T16:25:39Z"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "docker.io/laphets/cassandra-operator:learn", "imageID": "sha256:6519b22725242c5c45a0bba7b3c3a16ff0803eecffd306bd5ad74b78ca6237f2", "containerID": "containerd://7e85998a7ddaf3ab21907718e3e8e14aef0bad3e25979b65376eaaeec6def710", "started": true}], "qosClass": "BestEffort"}}, {"metadata": {"name": "cassandra-test-cluster-dc1-rack1-0", "generateName": "cassandra-test-cluster-dc1-rack1-", "namespace": "default", "selfLink": "/api/v1/namespaces/default/pods/cassandra-test-cluster-dc1-rack1-0", "uid": "c7926e8e-a627-4202-a085-90ca6225e36e", "resourceVersion": "2034", "creationTimestamp": "2021-07-31T16:28:25Z", "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1", "controller-revision-hash": "cassandra-test-cluster-dc1-rack1-7d8d8dbfc8", "statefulset.kubernetes.io/pod-name": "cassandra-test-cluster-dc1-rack1-0"}, "ownerReferences": [{"apiVersion": "apps/v1", "kind": "StatefulSet", "name": "cassandra-test-cluster-dc1-rack1", "uid": "e0210866-b912-4033-9294-d374980295e1", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:28:25Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}, "f:controller-revision-hash": {}, "f:statefulset.kubernetes.io/pod-name": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"e0210866-b912-4033-9294-d374980295e1\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LOCK\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":7000,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7001,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7199,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":9042,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:exec": {".": {}, "f:command": {}}, "f:failureThreshold": {}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:securityContext": {".": {}, "f:capabilities": {".": {}, "f:add": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/operator-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}, "k:{\"name\":\"sidecar\"}": {".": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":4567,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/pod-info\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:hostname": {}, "f:imagePullSecrets": {".": {}, "k:{\"name\":\"regcred\"}": {".": {}, "f:name": {}}}, "f:initContainers": {".": {}, "k:{\"name\":\"sysctl-limits\"}": {".": {}, "f:args": {}, "f:command": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:securityContext": {".": {}, "f:privileged": {}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {".": {}, "f:fsGroup": {}}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:subdomain": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"data-volume\"}": {".": {}, "f:name": {}, "f:persistentVolumeClaim": {".": {}, "f:claimName": {}}}, "k:{\"name\":\"operator-config-volume\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"operator-rack-config-volume-rack1\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"pod-info\"}": {".": {}, "f:downwardAPI": {".": {}, "f:defaultMode": {}, "f:items": {}}, "f:name": {}}}}}}, {"manager": "kubelet", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:29:48Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:initContainerStatuses": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.4.6\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}}]}, "spec": {"volumes": [{"name": "data-volume", "persistentVolumeClaim": {"claimName": "data-volume-cassandra-test-cluster-dc1-rack1-0"}}, {"name": "pod-info", "downwardAPI": {"items": [{"path": "labels", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.labels"}}, {"path": "annotations", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}}, {"path": "namespace", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}, {"path": "name", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}], "defaultMode": 420}}, {"name": "operator-config-volume", "configMap": {"name": "cassandra-test-cluster-dc1-operator-config", "items": [{"key": "cassandra_yaml_d_001_operator_overrides_yaml", "path": "cassandra.yaml.d/001-operator-overrides.yaml"}, {"key": "jvm_options_d_001_jvm_memory_gc_options", "path": "jvm.options.d/001-jvm-memory-gc.options"}], "defaultMode": 420}}, {"name": "operator-rack-config-volume-rack1", "configMap": {"name": "cassandra-test-cluster-dc1-rack-config-rack1", "items": [{"key": "cassandra_rackdc_properties", "path": "cassandra-rackdc.properties"}], "defaultMode": 420}}, {"name": "cassandra-performance-token-5drtk", "secret": {"secretName": "cassandra-performance-token-5drtk", "defaultMode": 420}}], "initContainers": [{"name": "sysctl-limits", "image": "busybox:latest", "command": ["sh", "-xuec"], "args": ["sysctl -w vm.max_map_count=1048575"], "resources": {}, "volumeMounts": [{"name": "cassandra-performance-token-5drtk", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"privileged": true}}], "containers": [{"name": "cassandra", "image": "gcr.io/cassandra-operator/cassandra-3.11.9:latest", "args": ["/tmp/operator-config", "/tmp/cassandra-rack-config"], "ports": [{"name": "internode", "containerPort": 7000, "protocol": "TCP"}, {"name": "internode-tls", "containerPort": 7001, "protocol": "TCP"}, {"name": "cql", "containerPort": 9042, "protocol": "TCP"}, {"name": "jmx", "containerPort": 7199, "protocol": "TCP"}], "env": [{"name": "MEMORY_LOCK", "value": "true"}], "resources": {"limits": {"memory": "1Gi"}, "requests": {"memory": "1Gi"}}, "volumeMounts": [{"name": "operator-config-volume", "mountPath": "/tmp/operator-config"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}, {"name": "cassandra-performance-token-5drtk", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "readinessProbe": {"exec": {"command": ["/usr/bin/cql-readiness-probe"]}, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"capabilities": {"add": ["IPC_LOCK", "SYS_RESOURCE"]}}}, {"name": "sidecar", "image": "gcr.io/cassandra-operator/instaclustr-icarus:latest", "ports": [{"name": "http", "containerPort": 4567, "protocol": "TCP"}], "resources": {"limits": {"memory": "512Mi"}, "requests": {"memory": "512Mi"}}, "volumeMounts": [{"name": "pod-info", "mountPath": "/etc/pod-info"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}, {"name": "cassandra-performance-token-5drtk", "readOnly": true, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-performance", "serviceAccount": "cassandra-performance", "nodeName": "kind-worker", "securityContext": {"fsGroup": 999}, "imagePullSecrets": [{"name": "regcred"}], "hostname": "cassandra-test-cluster-dc1-rack1-0", "subdomain": "cassandra-test-cluster-dc1-seeds", "schedulerName": "default-scheduler", "tolerations": [{"key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}, {"key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}], "priority": 0, "enableServiceLinks": true}, "status": {"phase": "Running", "conditions": [{"type": "Initialized", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:28:32Z"}, {"type": "Ready", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:29:48Z"}, {"type": "ContainersReady", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:29:48Z"}, {"type": "PodScheduled", "status": "True", "lastProbeTime": null, "lastTransitionTime": "2021-07-31T16:28:28Z"}], "hostIP": "172.18.0.5", "podIP": "10.244.4.6", "podIPs": [{"ip": "10.244.4.6"}], "startTime": "2021-07-31T16:28:28Z", "initContainerStatuses": [{"name": "sysctl-limits", "state": {"terminated": {"exitCode": 0, "reason": "Completed", "startedAt": "2021-07-31T16:28:31Z", "finishedAt": "2021-07-31T16:28:31Z", "containerID": "containerd://896d08807ddc07ae6cbee760eef18cf5bb6b3f16a7aa4ac542b9d9b962d3bed6"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "docker.io/library/busybox:latest", "imageID": "docker.io/library/busybox@sha256:0f354ec1728d9ff32edcd7d1b8bbdfc798277ad36120dc3dc683be44524c8b60", "containerID": "containerd://896d08807ddc07ae6cbee760eef18cf5bb6b3f16a7aa4ac542b9d9b962d3bed6"}], "containerStatuses": [{"name": "cassandra", "state": {"running": {"startedAt": "2021-07-31T16:28:33Z"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "gcr.io/cassandra-operator/cassandra-3.11.9:latest", "imageID": "gcr.io/cassandra-operator/cassandra-3.11.9@sha256:534d46f4583d0e6be5c73cf22280cf0ef509003d4e9fdfdb1f1f0de777fee570", "containerID": "containerd://9c74844664e44a1e0d237789f86bbc6e134c69cea5b9c02497ef4c6f5144f911", "started": true}, {"name": "sidecar", "state": {"running": {"startedAt": "2021-07-31T16:28:34Z"}}, "lastState": {}, "ready": true, "restartCount": 0, "image": "gcr.io/cassandra-operator/instaclustr-icarus:latest", "imageID": "gcr.io/cassandra-operator/instaclustr-icarus@sha256:0fef56e7cc1b4b8c7899e62202f5b26444e20fe59ead70ec9a497e26ae2323c4", "containerID": "containerd://15940e58138669bdc0a18f2dbe97f4f6ce5616be74e9531e050f9e3c57c66679", "started": true}], "qosClass": "Burstable"}}], "persistentvolumeclaim": [{"metadata": {"name": "data-volume-cassandra-test-cluster-dc1-rack1-0", "namespace": "default", "selfLink": "/api/v1/namespaces/default/persistentvolumeclaims/data-volume-cassandra-test-cluster-dc1-rack1-0", "uid": "b6be7465-b703-4003-b827-86ca77e516b0", "resourceVersion": "1741", "creationTimestamp": "2021-07-31T16:28:25Z", "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}, "annotations": {"pv.kubernetes.io/bind-completed": "yes", "pv.kubernetes.io/bound-by-controller": "yes", "volume.beta.kubernetes.io/storage-provisioner": "rancher.io/local-path", "volume.kubernetes.io/selected-node": "kind-worker"}, "finalizers": ["kubernetes.io/pvc-protection"], "managedFields": [{"manager": "kube-scheduler", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:28:25Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:volume.kubernetes.io/selected-node": {}}}}}, {"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "v1", "time": "2021-07-31T16:28:28Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:pv.kubernetes.io/bind-completed": {}, "f:pv.kubernetes.io/bound-by-controller": {}, "f:volume.beta.kubernetes.io/storage-provisioner": {}}, "f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}}, "f:spec": {"f:accessModes": {}, "f:resources": {"f:requests": {".": {}, "f:storage": {}}}, "f:volumeMode": {}, "f:volumeName": {}}, "f:status": {"f:accessModes": {}, "f:capacity": {".": {}, "f:storage": {}}, "f:phase": {}}}}]}, "spec": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "2Gi"}}, "volumeName": "pvc-b6be7465-b703-4003-b827-86ca77e516b0", "storageClassName": "standard", "volumeMode": "Filesystem"}, "status": {"phase": "Bound", "accessModes": ["ReadWriteOnce"], "capacity": {"storage": "2Gi"}}}], "deployment": [{"metadata": {"name": "cassandra-operator", "namespace": "default", "selfLink": "/apis/apps/v1/namespaces/default/deployments/cassandra-operator", "uid": "6558fac0-8cac-4f7e-88a6-b043d82af774", "resourceVersion": "1023", "generation": 1, "creationTimestamp": "2021-07-31T16:25:21Z", "annotations": {"deployment.kubernetes.io/revision": "1", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{},\"name\":\"cassandra-operator\",\"namespace\":\"default\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"name\":\"cassandra-operator\",\"sonartag\":\"cassandra-operator\"}},\"template\":{\"metadata\":{\"labels\":{\"name\":\"cassandra-operator\",\"sonartag\":\"cassandra-operator\"}},\"spec\":{\"containers\":[{\"command\":[\"./cassandra-operator\"],\"env\":[{\"name\":\"WATCH_NAMESPACE\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.namespace\"}}},{\"name\":\"POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"OPERATOR_NAME\",\"value\":\"cassandra-operator\"},{\"name\":\"KUBERNETES_SERVICE_HOST\",\"value\":\"kind-control-plane\"},{\"name\":\"KUBERNETES_SERVICE_PORT\",\"value\":\"6443\"}],\"envFrom\":[{\"configMapRef\":{\"name\":\"sonar-testing-global-config\"}}],\"image\":\"laphets/cassandra-operator:learn\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"cassandra-operator\"}],\"serviceAccountName\":\"cassandra-operator\"}}}}\n"}, "managedFields": [{"manager": "kubectl-client-side-apply", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T16:25:21Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}}, "f:spec": {"f:progressDeadlineSeconds": {}, "f:replicas": {}, "f:revisionHistoryLimit": {}, "f:selector": {"f:matchLabels": {".": {}, "f:name": {}, "f:sonartag": {}}}, "f:strategy": {"f:rollingUpdate": {".": {}, "f:maxSurge": {}, "f:maxUnavailable": {}}, "f:type": {}}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:name": {}, "f:sonartag": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra-operator\"}": {".": {}, "f:command": {}, "f:env": {".": {}, "k:{\"name\":\"KUBERNETES_SERVICE_HOST\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"KUBERNETES_SERVICE_PORT\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"OPERATOR_NAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}, "k:{\"name\":\"WATCH_NAMESPACE\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}}, "f:envFrom": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}}}}, {"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T16:25:40Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:deployment.kubernetes.io/revision": {}}}, "f:status": {"f:availableReplicas": {}, "f:conditions": {".": {}, "k:{\"type\":\"Available\"}": {".": {}, "f:lastTransitionTime": {}, "f:lastUpdateTime": {}, "f:message": {}, "f:reason": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Progressing\"}": {".": {}, "f:lastTransitionTime": {}, "f:lastUpdateTime": {}, "f:message": {}, "f:reason": {}, "f:status": {}, "f:type": {}}}, "f:observedGeneration": {}, "f:readyReplicas": {}, "f:replicas": {}, "f:updatedReplicas": {}}}}]}, "spec": {"replicas": 1, "selector": {"matchLabels": {"name": "cassandra-operator", "sonartag": "cassandra-operator"}}, "template": {"metadata": {"creationTimestamp": null, "labels": {"name": "cassandra-operator", "sonartag": "cassandra-operator"}}, "spec": {"containers": [{"name": "cassandra-operator", "image": "laphets/cassandra-operator:learn", "command": ["./cassandra-operator"], "envFrom": [{"configMapRef": {"name": "sonar-testing-global-config"}}], "env": [{"name": "WATCH_NAMESPACE", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}}, {"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "OPERATOR_NAME", "value": "cassandra-operator"}, {"name": "KUBERNETES_SERVICE_HOST", "value": "kind-control-plane"}, {"name": "KUBERNETES_SERVICE_PORT", "value": "6443"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-operator", "serviceAccount": "cassandra-operator", "securityContext": {}, "schedulerName": "default-scheduler"}}, "strategy": {"type": "RollingUpdate", "rollingUpdate": {"maxUnavailable": "25%", "maxSurge": "25%"}}, "revisionHistoryLimit": 10, "progressDeadlineSeconds": 600}, "status": {"observedGeneration": 1, "replicas": 1, "updatedReplicas": 1, "readyReplicas": 1, "availableReplicas": 1, "conditions": [{"type": "Available", "status": "True", "lastUpdateTime": "2021-07-31T16:25:40Z", "lastTransitionTime": "2021-07-31T16:25:40Z", "reason": "MinimumReplicasAvailable", "message": "Deployment has minimum availability."}, {"type": "Progressing", "status": "True", "lastUpdateTime": "2021-07-31T16:25:40Z", "lastTransitionTime": "2021-07-31T16:25:21Z", "reason": "NewReplicaSetAvailable", "message": "ReplicaSet \"cassandra-operator-868569994f\" has successfully progressed."}]}}], "statefulset": [{"metadata": {"name": "cassandra-test-cluster-dc1-rack1", "namespace": "default", "selfLink": "/apis/apps/v1/namespaces/default/statefulsets/cassandra-test-cluster-dc1-rack1", "uid": "e0210866-b912-4033-9294-d374980295e1", "resourceVersion": "2039", "generation": 1, "creationTimestamp": "2021-07-31T16:28:25Z", "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}, "ownerReferences": [{"apiVersion": "cassandraoperator.instaclustr.com/v1alpha1", "kind": "CassandraDataCenter", "name": "cassandra-datacenter", "uid": "f5ae3344-9942-4b6f-beb7-f8e71da8e8e7", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "cassandra-operator", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T16:28:25Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"f5ae3344-9942-4b6f-beb7-f8e71da8e8e7\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:podManagementPolicy": {}, "f:replicas": {}, "f:revisionHistoryLimit": {}, "f:selector": {"f:matchLabels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}}, "f:serviceName": {}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:app.kubernetes.io/managed-by": {}, "f:cassandra-operator.instaclustr.com/cluster": {}, "f:cassandra-operator.instaclustr.com/datacenter": {}, "f:cassandra-operator.instaclustr.com/rack": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"cassandra\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LOCK\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":7000,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7001,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":7199,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":9042,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:exec": {".": {}, "f:command": {}}, "f:failureThreshold": {}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:securityContext": {".": {}, "f:capabilities": {".": {}, "f:add": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/operator-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}, "k:{\"name\":\"sidecar\"}": {".": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":4567,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:memory": {}}, "f:requests": {".": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/pod-info\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/tmp/cassandra-rack-config\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/lib/cassandra\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:imagePullSecrets": {".": {}, "k:{\"name\":\"regcred\"}": {".": {}, "f:name": {}}}, "f:initContainers": {".": {}, "k:{\"name\":\"sysctl-limits\"}": {".": {}, "f:args": {}, "f:command": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:securityContext": {".": {}, "f:privileged": {}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {".": {}, "f:fsGroup": {}}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"operator-config-volume\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"operator-rack-config-volume-rack1\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:items": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"pod-info\"}": {".": {}, "f:downwardAPI": {".": {}, "f:defaultMode": {}, "f:items": {}}, "f:name": {}}}}}, "f:updateStrategy": {"f:rollingUpdate": {".": {}, "f:partition": {}}, "f:type": {}}, "f:volumeClaimTemplates": {}}}}, {"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "apps/v1", "time": "2021-07-31T16:29:48Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:collisionCount": {}, "f:currentReplicas": {}, "f:currentRevision": {}, "f:observedGeneration": {}, "f:readyReplicas": {}, "f:replicas": {}, "f:updateRevision": {}, "f:updatedReplicas": {}}}}]}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}}, "template": {"metadata": {"creationTimestamp": null, "labels": {"app.kubernetes.io/managed-by": "com.instaclustr.cassandra-operator", "cassandra-operator.instaclustr.com/cluster": "test-cluster", "cassandra-operator.instaclustr.com/datacenter": "dc1", "cassandra-operator.instaclustr.com/rack": "rack1"}}, "spec": {"volumes": [{"name": "pod-info", "downwardAPI": {"items": [{"path": "labels", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.labels"}}, {"path": "annotations", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}}, {"path": "namespace", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}, {"path": "name", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}], "defaultMode": 420}}, {"name": "operator-config-volume", "configMap": {"name": "cassandra-test-cluster-dc1-operator-config", "items": [{"key": "cassandra_yaml_d_001_operator_overrides_yaml", "path": "cassandra.yaml.d/001-operator-overrides.yaml"}, {"key": "jvm_options_d_001_jvm_memory_gc_options", "path": "jvm.options.d/001-jvm-memory-gc.options"}], "defaultMode": 420}}, {"name": "operator-rack-config-volume-rack1", "configMap": {"name": "cassandra-test-cluster-dc1-rack-config-rack1", "items": [{"key": "cassandra_rackdc_properties", "path": "cassandra-rackdc.properties"}], "defaultMode": 420}}], "initContainers": [{"name": "sysctl-limits", "image": "busybox:latest", "command": ["sh", "-xuec"], "args": ["sysctl -w vm.max_map_count=1048575"], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"privileged": true}}], "containers": [{"name": "cassandra", "image": "gcr.io/cassandra-operator/cassandra-3.11.9:latest", "args": ["/tmp/operator-config", "/tmp/cassandra-rack-config"], "ports": [{"name": "internode", "containerPort": 7000, "protocol": "TCP"}, {"name": "internode-tls", "containerPort": 7001, "protocol": "TCP"}, {"name": "cql", "containerPort": 9042, "protocol": "TCP"}, {"name": "jmx", "containerPort": 7199, "protocol": "TCP"}], "env": [{"name": "MEMORY_LOCK", "value": "true"}], "resources": {"limits": {"memory": "1Gi"}, "requests": {"memory": "1Gi"}}, "volumeMounts": [{"name": "operator-config-volume", "mountPath": "/tmp/operator-config"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}], "readinessProbe": {"exec": {"command": ["/usr/bin/cql-readiness-probe"]}, "initialDelaySeconds": 60, "timeoutSeconds": 5, "periodSeconds": 10, "successThreshold": 1, "failureThreshold": 3}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"capabilities": {"add": ["IPC_LOCK", "SYS_RESOURCE"]}}}, {"name": "sidecar", "image": "gcr.io/cassandra-operator/instaclustr-icarus:latest", "ports": [{"name": "http", "containerPort": 4567, "protocol": "TCP"}], "resources": {"limits": {"memory": "512Mi"}, "requests": {"memory": "512Mi"}}, "volumeMounts": [{"name": "pod-info", "mountPath": "/etc/pod-info"}, {"name": "operator-rack-config-volume-rack1", "mountPath": "/tmp/cassandra-rack-config"}, {"name": "data-volume", "mountPath": "/var/lib/cassandra"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always"}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "cassandra-performance", "serviceAccount": "cassandra-performance", "securityContext": {"fsGroup": 999}, "imagePullSecrets": [{"name": "regcred"}], "schedulerName": "default-scheduler"}}, "volumeClaimTemplates": [{"kind": "PersistentVolumeClaim", "apiVersion": "v1", "metadata": {"name": "data-volume", "creationTimestamp": null}, "spec": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "2Gi"}}, "volumeMode": "Filesystem"}, "status": {"phase": "Pending"}}], "serviceName": "cassandra-test-cluster-dc1-seeds", "podManagementPolicy": "OrderedReady", "updateStrategy": {"type": "RollingUpdate", "rollingUpdate": {"partition": 0}}, "revisionHistoryLimit": 10}, "status": {"observedGeneration": 1, "replicas": 1, "readyReplicas": 1, "currentReplicas": 1, "updatedReplicas": 1, "currentRevision": "cassandra-test-cluster-dc1-rack1-7d8d8dbfc8", "updateRevision": "cassandra-test-cluster-dc1-rack1-7d8d8dbfc8", "collisionCount": 0}}]}