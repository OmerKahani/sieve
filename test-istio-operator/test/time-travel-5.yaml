project: istio-operator
mode: time-travel
straggler: kind-control-plane3
front-runner: kind-control-plane
operator-pod: istio-operator
command: /manager
timing: after
ce-name: sonar-istio-cluster
ce-namespace: default
ce-rtype: istio
ce-diff-current: '{"metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration":
  "{\"apiVersion\":\"istio.banzaicloud.io/v1beta1\",\"kind\":\"Istio\",\"metadata\":{\"annotations\":{},\"labels\":{\"controller-tools.k8s.io\":\"1.0\"},\"name\":\"sonar-istio-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoMtls\":true,\"controlPlaneAuthPolicy\":\"MUTUAL_TLS\",\"defaultPodDisruptionBudget\":{\"enabled\":true},\"defaultResources\":{\"requests\":{\"cpu\":\"10m\"}},\"excludeIPRanges\":\"\",\"gateways\":{\"egress\":{\"enabled\":false,\"maxReplicas\":3,\"minReplicas\":3,\"ports\":[{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":3,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"256Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceLabels\":{},\"serviceType\":\"ClusterIP\"},\"enabled\":true,\"ingress\":{\"enabled\":true,\"loadBalancerIP\":\"\",\"maxReplicas\":3,\"minReplicas\":3,\"ports\":[{\"name\":\"status-port\",\"port\":15021,\"targetPort\":15021},{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":3,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceExternalTrafficPolicy\":\"Cluster\",\"serviceLabels\":{},\"serviceType\":\"LoadBalancer\"},\"k8singress\":{\"enabled\":false}},\"global\":false,\"includeIPRanges\":\"*\",\"istiod\":{\"enableAnalysis\":true,\"enableStatus\":true,\"enabled\":true,\"externalIstiod\":{\"enabled\":false}},\"jwtPolicy\":\"first-party-jwt\",\"localityLB\":{\"enabled\":false},\"meshPolicy\":{\"mtlsMode\":\"PERMISSIVE\"},\"mixerlessTelemetry\":{\"enabled\":true},\"mountMtlsCerts\":false,\"outboundTrafficPolicy\":{\"mode\":\"ALLOW_ANY\"},\"pilot\":{\"certProvider\":\"istiod\",\"enabled\":true,\"image\":\"docker.io/istio/pilot:1.9.2\",\"maxReplicas\":3,\"minReplicas\":3,\"replicaCount\":3,\"resources\":{\"requests\":{\"cpu\":\"500m\",\"memory\":\"2048Mi\"}},\"traceSampling\":1},\"policy\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":3,\"minReplicas\":3,\"replicaCount\":3},\"proxy\":{\"accessLogEncoding\":\"TEXT\",\"accessLogFile\":\"/dev/stdout\",\"accessLogFormat\":\"\",\"enableCoreDump\":false,\"holdApplicationUntilProxyStarts\":false,\"image\":\"docker.io/istio/proxyv2:1.9.2\",\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}}},\"proxyInit\":{\"image\":\"docker.io/istio/proxyv2:1.9.2\"},\"telemetry\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":3,\"minReplicas\":3,\"replicaCount\":3},\"tracing\":{\"datadog\":{\"address\":\"$(HOST_IP):8126\"},\"enabled\":false,\"lightstep\":{\"accessToken\":\"\\u003caccess-token\\u003e\",\"address\":\"lightstep-satellite.lightstep:9292\"},\"tracer\":\"zipkin\",\"zipkin\":{\"address\":\"zipkin.istio-system:9411\"}},\"version\":\"1.9.2\"}}\n"}},
  "spec": {"pilot": {"minReplicas": 3, "maxReplicas": 3, "replicaCount": 3}, "gateways":
  {"ingress": {"replicaCount": 3, "minReplicas": 3, "maxReplicas": 3}, "egress": {"replicaCount":
  3, "minReplicas": 3, "maxReplicas": 3}}, "policy": {"minReplicas": 3, "maxReplicas":
  3, "replicaCount": 3}, "telemetry": {"minReplicas": 3, "maxReplicas": 3, "replicaCount":
  3}}}'
ce-diff-previous: '{"metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration":
  "{\"apiVersion\":\"istio.banzaicloud.io/v1beta1\",\"kind\":\"Istio\",\"metadata\":{\"annotations\":{},\"labels\":{\"controller-tools.k8s.io\":\"1.0\"},\"name\":\"sonar-istio-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoMtls\":true,\"controlPlaneAuthPolicy\":\"MUTUAL_TLS\",\"defaultPodDisruptionBudget\":{\"enabled\":true},\"defaultResources\":{\"requests\":{\"cpu\":\"10m\"}},\"excludeIPRanges\":\"\",\"gateways\":{\"egress\":{\"enabled\":false,\"maxReplicas\":5,\"minReplicas\":5,\"ports\":[{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":5,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"256Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceLabels\":{},\"serviceType\":\"ClusterIP\"},\"enabled\":true,\"ingress\":{\"enabled\":true,\"loadBalancerIP\":\"\",\"maxReplicas\":5,\"minReplicas\":5,\"ports\":[{\"name\":\"status-port\",\"port\":15021,\"targetPort\":15021},{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":5,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceExternalTrafficPolicy\":\"Cluster\",\"serviceLabels\":{},\"serviceType\":\"LoadBalancer\"},\"k8singress\":{\"enabled\":false}},\"global\":false,\"includeIPRanges\":\"*\",\"istiod\":{\"enableAnalysis\":true,\"enableStatus\":true,\"enabled\":true,\"externalIstiod\":{\"enabled\":false}},\"jwtPolicy\":\"first-party-jwt\",\"localityLB\":{\"enabled\":false},\"meshPolicy\":{\"mtlsMode\":\"PERMISSIVE\"},\"mixerlessTelemetry\":{\"enabled\":true},\"mountMtlsCerts\":false,\"outboundTrafficPolicy\":{\"mode\":\"ALLOW_ANY\"},\"pilot\":{\"certProvider\":\"istiod\",\"enabled\":true,\"image\":\"docker.io/istio/pilot:1.9.2\",\"maxReplicas\":5,\"minReplicas\":5,\"replicaCount\":5,\"resources\":{\"requests\":{\"cpu\":\"500m\",\"memory\":\"2048Mi\"}},\"traceSampling\":1},\"policy\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":5,\"minReplicas\":5,\"replicaCount\":5},\"proxy\":{\"accessLogEncoding\":\"TEXT\",\"accessLogFile\":\"/dev/stdout\",\"accessLogFormat\":\"\",\"enableCoreDump\":false,\"holdApplicationUntilProxyStarts\":false,\"image\":\"docker.io/istio/proxyv2:1.9.2\",\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}}},\"proxyInit\":{\"image\":\"docker.io/istio/proxyv2:1.9.2\"},\"telemetry\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":5,\"minReplicas\":5,\"replicaCount\":5},\"tracing\":{\"datadog\":{\"address\":\"$(HOST_IP):8126\"},\"enabled\":false,\"lightstep\":{\"accessToken\":\"\\u003caccess-token\\u003e\",\"address\":\"lightstep-satellite.lightstep:9292\"},\"tracer\":\"zipkin\",\"zipkin\":{\"address\":\"zipkin.istio-system:9411\"}},\"version\":\"1.9.2\"}}\n"}},
  "spec": {"pilot": {"minReplicas": 5, "maxReplicas": 5, "replicaCount": 5}, "gateways":
  {"ingress": {"replicaCount": 5, "minReplicas": 5, "maxReplicas": 5}, "egress": {"replicaCount":
  5, "minReplicas": 5, "maxReplicas": 5}}, "policy": {"minReplicas": 5, "maxReplicas":
  5, "replicaCount": 5}, "telemetry": {"minReplicas": 5, "maxReplicas": 5, "replicaCount":
  5}}}'
ce-etype-current: Updated
ce-etype-previous: Updated
se-name: istio-ingressgateway-sonar-istio-cluster
se-namespace: default
se-rtype: meshgateway
se-etype: ADDED
description: 'Pause kind-control-plane3 after it processes a default/istio/sonar-istio-cluster
  event E. E should match the pattern {"metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration":
  "{\"apiVersion\":\"istio.banzaicloud.io/v1beta1\",\"kind\":\"Istio\",\"metadata\":{\"annotations\":{},\"labels\":{\"controller-tools.k8s.io\":\"1.0\"},\"name\":\"sonar-istio-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoMtls\":true,\"controlPlaneAuthPolicy\":\"MUTUAL_TLS\",\"defaultPodDisruptionBudget\":{\"enabled\":true},\"defaultResources\":{\"requests\":{\"cpu\":\"10m\"}},\"excludeIPRanges\":\"\",\"gateways\":{\"egress\":{\"enabled\":false,\"maxReplicas\":3,\"minReplicas\":3,\"ports\":[{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":3,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"256Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceLabels\":{},\"serviceType\":\"ClusterIP\"},\"enabled\":true,\"ingress\":{\"enabled\":true,\"loadBalancerIP\":\"\",\"maxReplicas\":3,\"minReplicas\":3,\"ports\":[{\"name\":\"status-port\",\"port\":15021,\"targetPort\":15021},{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":3,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceExternalTrafficPolicy\":\"Cluster\",\"serviceLabels\":{},\"serviceType\":\"LoadBalancer\"},\"k8singress\":{\"enabled\":false}},\"global\":false,\"includeIPRanges\":\"*\",\"istiod\":{\"enableAnalysis\":true,\"enableStatus\":true,\"enabled\":true,\"externalIstiod\":{\"enabled\":false}},\"jwtPolicy\":\"first-party-jwt\",\"localityLB\":{\"enabled\":false},\"meshPolicy\":{\"mtlsMode\":\"PERMISSIVE\"},\"mixerlessTelemetry\":{\"enabled\":true},\"mountMtlsCerts\":false,\"outboundTrafficPolicy\":{\"mode\":\"ALLOW_ANY\"},\"pilot\":{\"certProvider\":\"istiod\",\"enabled\":true,\"image\":\"docker.io/istio/pilot:1.9.2\",\"maxReplicas\":3,\"minReplicas\":3,\"replicaCount\":3,\"resources\":{\"requests\":{\"cpu\":\"500m\",\"memory\":\"2048Mi\"}},\"traceSampling\":1},\"policy\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":3,\"minReplicas\":3,\"replicaCount\":3},\"proxy\":{\"accessLogEncoding\":\"TEXT\",\"accessLogFile\":\"/dev/stdout\",\"accessLogFormat\":\"\",\"enableCoreDump\":false,\"holdApplicationUntilProxyStarts\":false,\"image\":\"docker.io/istio/proxyv2:1.9.2\",\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}}},\"proxyInit\":{\"image\":\"docker.io/istio/proxyv2:1.9.2\"},\"telemetry\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":3,\"minReplicas\":3,\"replicaCount\":3},\"tracing\":{\"datadog\":{\"address\":\"$(HOST_IP):8126\"},\"enabled\":false,\"lightstep\":{\"accessToken\":\"\\u003caccess-token\\u003e\",\"address\":\"lightstep-satellite.lightstep:9292\"},\"tracer\":\"zipkin\",\"zipkin\":{\"address\":\"zipkin.istio-system:9411\"}},\"version\":\"1.9.2\"}}\n"}},
  "spec": {"pilot": {"minReplicas": 3, "maxReplicas": 3, "replicaCount": 3}, "gateways":
  {"ingress": {"replicaCount": 3, "minReplicas": 3, "maxReplicas": 3}, "egress": {"replicaCount":
  3, "minReplicas": 3, "maxReplicas": 3}}, "policy": {"minReplicas": 3, "maxReplicas":
  3, "replicaCount": 3}, "telemetry": {"minReplicas": 3, "maxReplicas": 3, "replicaCount":
  3}}} and the events before E should match {"metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration":
  "{\"apiVersion\":\"istio.banzaicloud.io/v1beta1\",\"kind\":\"Istio\",\"metadata\":{\"annotations\":{},\"labels\":{\"controller-tools.k8s.io\":\"1.0\"},\"name\":\"sonar-istio-cluster\",\"namespace\":\"default\"},\"spec\":{\"autoMtls\":true,\"controlPlaneAuthPolicy\":\"MUTUAL_TLS\",\"defaultPodDisruptionBudget\":{\"enabled\":true},\"defaultResources\":{\"requests\":{\"cpu\":\"10m\"}},\"excludeIPRanges\":\"\",\"gateways\":{\"egress\":{\"enabled\":false,\"maxReplicas\":5,\"minReplicas\":5,\"ports\":[{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":5,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"256Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceLabels\":{},\"serviceType\":\"ClusterIP\"},\"enabled\":true,\"ingress\":{\"enabled\":true,\"loadBalancerIP\":\"\",\"maxReplicas\":5,\"minReplicas\":5,\"ports\":[{\"name\":\"status-port\",\"port\":15021,\"targetPort\":15021},{\"name\":\"http2\",\"port\":80,\"targetPort\":8080},{\"name\":\"https\",\"port\":443,\"targetPort\":8443},{\"name\":\"tls\",\"port\":15443,\"targetPort\":15443}],\"replicaCount\":5,\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"runAsRoot\":false,\"serviceAnnotations\":{},\"serviceExternalTrafficPolicy\":\"Cluster\",\"serviceLabels\":{},\"serviceType\":\"LoadBalancer\"},\"k8singress\":{\"enabled\":false}},\"global\":false,\"includeIPRanges\":\"*\",\"istiod\":{\"enableAnalysis\":true,\"enableStatus\":true,\"enabled\":true,\"externalIstiod\":{\"enabled\":false}},\"jwtPolicy\":\"first-party-jwt\",\"localityLB\":{\"enabled\":false},\"meshPolicy\":{\"mtlsMode\":\"PERMISSIVE\"},\"mixerlessTelemetry\":{\"enabled\":true},\"mountMtlsCerts\":false,\"outboundTrafficPolicy\":{\"mode\":\"ALLOW_ANY\"},\"pilot\":{\"certProvider\":\"istiod\",\"enabled\":true,\"image\":\"docker.io/istio/pilot:1.9.2\",\"maxReplicas\":5,\"minReplicas\":5,\"replicaCount\":5,\"resources\":{\"requests\":{\"cpu\":\"500m\",\"memory\":\"2048Mi\"}},\"traceSampling\":1},\"policy\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":5,\"minReplicas\":5,\"replicaCount\":5},\"proxy\":{\"accessLogEncoding\":\"TEXT\",\"accessLogFile\":\"/dev/stdout\",\"accessLogFormat\":\"\",\"enableCoreDump\":false,\"holdApplicationUntilProxyStarts\":false,\"image\":\"docker.io/istio/proxyv2:1.9.2\",\"resources\":{\"limits\":{\"cpu\":\"2000m\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}}},\"proxyInit\":{\"image\":\"docker.io/istio/proxyv2:1.9.2\"},\"telemetry\":{\"enabled\":false,\"image\":\"docker.io/istio/mixer:1.9.2\",\"maxReplicas\":5,\"minReplicas\":5,\"replicaCount\":5},\"tracing\":{\"datadog\":{\"address\":\"$(HOST_IP):8126\"},\"enabled\":false,\"lightstep\":{\"accessToken\":\"\\u003caccess-token\\u003e\",\"address\":\"lightstep-satellite.lightstep:9292\"},\"tracer\":\"zipkin\",\"zipkin\":{\"address\":\"zipkin.istio-system:9411\"}},\"version\":\"1.9.2\"}}\n"}},
  "spec": {"pilot": {"minReplicas": 5, "maxReplicas": 5, "replicaCount": 5}, "gateways":
  {"ingress": {"replicaCount": 5, "minReplicas": 5, "maxReplicas": 5}, "egress": {"replicaCount":
  5, "minReplicas": 5, "maxReplicas": 5}}, "policy": {"minReplicas": 5, "maxReplicas":
  5, "replicaCount": 5}, "telemetry": {"minReplicas": 5, "maxReplicas": 5, "replicaCount":
  5}}}. And restart the controller istio-operator after kind-control-plane processes
  a ADDED default/meshgateway/istio-ingressgateway-sonar-istio-cluster event.'
